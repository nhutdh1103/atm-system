{"ast":null,"code":"var _jsxFileName = \"/Users/nina/atm-system/client/src/routes/transaction.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Transaction extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      ids: []\n    };\n  }\n  async fetchData() {\n    return fetch('http://localhost:4040/transaction', {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('accessToken'))\n      }\n    }).then(res => {\n      if (res.status >= 403) {\n        localStorage.clear();\n        window.location.reload();\n      }\n      return res.json();\n    }).then(data => {\n      this.setState({\n        transaction: data\n      });\n      this.state.transaction.map(tran => {\n        if (tran.transactionImage) {\n          const imagePath = tran.transactionImage.split(\"/\")[2];\n          fetch(`http://localhost:4040/image?image=${imagePath}`, {\n            method: 'GET'\n          }).then(res => {\n            this.setState({\n              images: [...this.state.images, res.url]\n            });\n            this.setState({\n              ids: [...this.state.ids, tran.transactionID]\n            });\n          });\n        }\n      });\n    });\n  }\n  async componentDidMount() {\n    await this.fetchData();\n  }\n  render() {\n    const transaction = this.state.transaction;\n    if (transaction) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"MY TRANSACTIONS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"fl-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Transaction ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Transaction Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"From Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"To Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Transaction Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Transaction Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Transaction Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: transaction.map((tran, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: tran.transactionID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"$ \", tran.transactionAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: tran.fromAccount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: tran.toAccount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: tran.transactionDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: tran.transactionType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: this.state.ids.includes(tran.transactionID) && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: this.state.images[this.state.ids.indexOf(tran.transactionID)]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"________________________________\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","Link","jsxDEV","_jsxDEV","Transaction","constructor","args","state","images","ids","fetchData","fetch","method","headers","JSON","parse","localStorage","getItem","then","res","status","clear","window","location","reload","json","data","setState","transaction","map","tran","transactionImage","imagePath","split","url","transactionID","componentDidMount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","class","i","transactionAmount","fromAccount","toAccount","transactionDate","transactionType","includes","src","indexOf","to"],"sources":["/Users/nina/atm-system/client/src/routes/transaction.jsx"],"sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default class Transaction extends Component {\n\tstate = {\n\t\timages: [],\n\t\tids: []\n\t}\n\n\tasync fetchData() {\n\t\treturn fetch('http://localhost:4040/transaction', \n\t\t{\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('accessToken')),\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tif (res.status >= 403) {\n\t\t\t\tlocalStorage.clear()\n\t\t\t\twindow.location.reload()\n\t\t\t}\n\t\t\treturn res.json()\n\t\t}).then(data => {\n\t\t\tthis.setState({ transaction: data })\n\t\t\tthis.state.transaction.map(tran => {\n\t\t\t\tif (tran.transactionImage) {\n\t\t\t\t\tconst imagePath = tran.transactionImage.split(\"/\")[2]\n\t\t\t\t\tfetch(`http://localhost:4040/image?image=${imagePath}`, {method: 'GET'})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tthis.setState({ images: [...this.state.images, res.url] })\n\t\t\t\t\t\t\tthis.setState({ ids: [...this.state.ids, tran.transactionID] })\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.fetchData()\n\t}\n\n\trender() {\n\t\tconst transaction = this.state.transaction\n\t\tif (transaction) {\n\t\t\treturn (\n\t\t\t\t<div className=\"div-container\">\n                    <h3>MY TRANSACTIONS</h3>\n\t\t\t\t\t<table class=\"fl-table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Transaction ID</th>\n\t\t\t\t\t\t\t\t<th>Transaction Amount</th>\n\t\t\t\t\t\t\t\t<th>From Account</th>\n\t\t\t\t\t\t\t\t<th>To Account</th>\n\t\t\t\t\t\t\t\t<th>Transaction Date</th>\n\t\t\t\t\t\t\t\t<th>Transaction Type</th>\n\t\t\t\t\t\t\t\t<th>Transaction Image</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{transaction.map((tran, i) => (\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>{tran.transactionID}</td>\n\t\t\t\t\t\t\t\t<td>$ {tran.transactionAmount}</td>\n\t\t\t\t\t\t\t\t<td>{tran.fromAccount}</td>\n\t\t\t\t\t\t\t\t<td>{tran.toAccount}</td>\n\t\t\t\t\t\t\t\t<td>{tran.transactionDate}</td>\n\t\t\t\t\t\t\t\t<td>{tran.transactionType}</td>\n\t\t\t\t\t\t\t\t<td>{ this.state.ids.includes(tran.transactionID) && \n\t\t\t\t\t\t\t\t\t<img src={this.state.images[this.state.ids.indexOf(tran.transactionID)]}/> }</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<p>________________________________</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn (<Link to=\"/\" />)\n\t}\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}